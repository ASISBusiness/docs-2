---
sidebar_position: 0
title: "Migration Guide"
sidebar_label: "Migration Guide"
slug: "/web3-data-api/breaking-changes/migration-guide"
---

--- 

### Changes to `getLogsByAddress`
Now a `topic0` must be provided when making a request to `getLogsByAddress`. The `topic0` is the keccak256 hash of the event signature. This signature can be found in the ABI of the contract. For example, the Transfer event signature for an ERC20 contract is: `Transfer(address indexed from, address indexed to ,uint256 value)`.
Also, it is no longer possible to provide a topic1, topic2 or topic3 in the request. If you need to filter out specific values in the logs, then you should do it in the client side, after the request is made.
Update your code in the following way:

#### 1. You are already providing a topic0, and no other topics in your request
No changes needed

#### 2. You are not providing any topic in your request
Now you need to provide a topic0. To find this topic:

1. Check out the event signature in the ABI. It should look something like Transfer(address indexed from, address indexed to ,uint256 value)

2. Remove the parameters from this signature so it looks like Transfer(address,address,uint256). Also make sure there are no whitespaces in the string.
Hash it with keccak256 (use any library that you want: web3js/ethersjs etc.):

3. Some examples on how to get the topic0 from the event signature using ethersJs. Many other web3/crypto libraries support similar functions.

```js
const ethers = require('ethers');

const eventSignature = 'Transfer(address,address,uint256)';
const hash = ethers.utils.solidityKeccak256(['string'], [eventSignature]);
```

For example for the Transfer event, that we showed above, we get: `0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef`
Note: Make sure that the hash is prefixed with 0x. If the library that you use does not include the 0x, then make sure to manually prefix the hash with 0x

#### 3. You are providing topic1/topic2/topic3
If you are providing any topics other than topic0, then you should remove them from the request. If you need to filter out specific values in the logs, then you should do it in the client side, after the request is made.

#### 4. You are using all events/logs from a contract
If you want all events/logs from a contract, you now need to make multiple calls for each topic0. This needs to be done for all events of the contract. These events can be found in the ABI (or search via Etherscan for example). Refer to 2. on how to get the topic0 from the event signature.
Deprecation of total_count and disable_total

The total_count (or totalCount when using the Javascript SDK) will not be returned anymore. This also means that we deprecate the disable_total (or disableTotal when using the Javascript SDK) parameter. Remove this parameter from your request, and remove any usage of the total_count/totalCount from your code. This affects the following endpoints:

getTokenTransfers
getNFTs
getWalletNFTCollections
getNFTTrades
getNFTTransfers
getContractNFTTransfers
getNFTOwners
getTokenAddressTransfers
getWalletTokenIdTransfers

Deprecation of direction on getNFTTransfers

The direction parameter on getNFTTransfers is deprecated. Remove this parameter from your request, and remove any usage of the direction from your code.